<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Log your fishing activities and track your progress">
    <title>Activity Tracking | CastnFish</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/activity.css">
</head>
<body>
    <main class="activity-main">
        <div class="activity-header">
            <div class="container">
                <h1>Track Your Activities</h1>
                <div class="quick-stats">
                    <div class="stat-card">
                        <i class="fas fa-fish"></i>
                        <div class="stat-info">
                            <span class="stat-value" id="totalCatches">0</span>
                            <span class="stat-label">Total Catches</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-map-marker-alt"></i>
                        <div class="stat-info">
                            <span class="stat-value" id="totalTrips">0</span>
                            <span class="stat-label">Fishing Trips</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-trophy"></i>
                        <div class="stat-info">
                            <span class="stat-value" id="totalAchievements">0</span>
                            <span class="stat-label">Achievements</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="activity-tabs">
                <button class="tab-btn active" data-tab="log-catch">
                    <i class="fas fa-fish"></i> Log Catch
                </button>
                <button class="tab-btn" data-tab="log-trip">
                    <i class="fas fa-map-marked-alt"></i> Log Trip
                </button>
                <button class="tab-btn" data-tab="view-history">
                    <i class="fas fa-history"></i> Activity History
                </button>
                <button class="tab-btn" data-tab="view-stats">
                    <i class="fas fa-chart-bar"></i> Statistics
                </button>
            </div>

            <div class="activity-content">
                <!-- Log Catch Form -->
                <section id="log-catch" class="tab-content active">
                    <form id="catchForm" class="activity-form">
                        <h2>Log a Catch</h2>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="species">Species *</label>
                                <select id="species" name="species" required>
                                    <option value="">Select species</option>
                                    <!-- Species will be populated by JavaScript -->
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="weight">Weight (lbs)</label>
                                <input type="number" id="weight" name="weight" 
                                       step="0.1" min="0">
                            </div>
                            <div class="form-group">
                                <label for="length">Length (inches)</label>
                                <input type="number" id="length" name="length" 
                                       step="0.5" min="0">
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="catchDate">Date *</label>
                                <input type="date" id="catchDate" name="date" required>
                            </div>
                            <div class="form-group">
                                <label for="catchTime">Time</label>
                                <input type="time" id="catchTime" name="time">
                            </div>
                            <div class="form-group">
                                <label for="catchLocation">Location *</label>
                                <input type="text" id="catchLocation" name="location" 
                                       required placeholder="Search locations...">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="catchPhotos">Photos</label>
                            <div class="photo-upload-area" id="catchPhotos">
                                <div class="upload-placeholder">
                                    <i class="fas fa-camera"></i>
                                    <span>Drop photos here or click to upload</span>
                                </div>
                                <input type="file" multiple accept="image/*" hidden>
                                <div class="photo-preview"></div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="catchNotes">Notes</label>
                            <textarea id="catchNotes" name="notes" rows="3" 
                                      placeholder="Add any details about your catch..."></textarea>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">Log Catch</button>
                        </div>
                    </form>
                </section>

                <!-- Log Trip Form -->
                <section id="log-trip" class="tab-content">
                    <form id="tripForm" class="activity-form">
                        <h2>Log a Fishing Trip</h2>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="tripDate">Date *</label>
                                <input type="date" id="tripDate" name="date" required>
                            </div>
                            <div class="form-group">
                                <label for="tripStartTime">Start Time</label>
                                <input type="time" id="tripStartTime" name="startTime">
                            </div>
                            <div class="form-group">
                                <label for="tripEndTime">End Time</label>
                                <input type="time" id="tripEndTime" name="endTime">
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="tripLocation">Location *</label>
                                <input type="text" id="tripLocation" name="location" 
                                       required placeholder="Search locations...">
                            </div>
                            <div class="form-group">
                                <label for="weatherConditions">Weather</label>
                                <select id="weatherConditions" name="weather">
                                    <option value="">Select weather</option>
                                    <option value="sunny">Sunny</option>
                                    <option value="cloudy">Cloudy</option>
                                    <option value="rainy">Rainy</option>
                                    <option value="windy">Windy</option>
                                    <option value="stormy">Stormy</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="waterConditions">Water Conditions</label>
                                <select id="waterConditions" name="waterConditions">
                                    <option value="">Select conditions</option>
                                    <option value="calm">Calm</option>
                                    <option value="choppy">Choppy</option>
                                    <option value="rough">Rough</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="tripPhotos">Photos</label>
                            <div class="photo-upload-area" id="tripPhotos">
                                <div class="upload-placeholder">
                                    <i class="fas fa-camera"></i>
                                    <span>Drop photos here or click to upload</span>
                                </div>
                                <input type="file" multiple accept="image/*" hidden>
                                <div class="photo-preview"></div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="tripNotes">Trip Notes</label>
                            <textarea id="tripNotes" name="notes" rows="3" 
                                      placeholder="Add details about your trip, techniques used, etc..."></textarea>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">Log Trip</button>
                        </div>
                    </form>
                </section>

                <!-- Activity History -->
                <section id="view-history" class="tab-content">
                    <h2>Activity History</h2>
                    
                    <div class="activity-filters">
                        <div class="filter-group">
                            <label for="activityType">Activity Type</label>
                            <select id="activityType">
                                <option value="all">All Activities</option>
                                <option value="catches">Catches</option>
                                <option value="trips">Trips</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label for="dateRange">Date Range</label>
                            <select id="dateRange">
                                <option value="week">Past Week</option>
                                <option value="month">Past Month</option>
                                <option value="year">Past Year</option>
                                <option value="custom">Custom Range</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label for="locationFilter">Location</label>
                            <input type="text" id="locationFilter" 
                                   placeholder="Filter by location...">
                        </div>
                    </div>

                    <div class="activity-timeline" id="activityTimeline">
                        <!-- Activity items will be populated by JavaScript -->
                    </div>
                </section>

                <!-- Statistics View -->
                <section id="view-stats" class="tab-content">
                    <h2>Fishing Statistics</h2>

                    <div class="stats-grid">
                        <div class="stats-card">
                            <h3>Catch Statistics</h3>
                            <div class="chart-container">
                                <canvas id="catchesChart"></canvas>
                            </div>
                            <div class="stats-summary">
                                <div class="summary-item">
                                    <span class="label">Most Common Species</span>
                                    <span class="value" id="commonSpecies">-</span>
                                </div>
                                <div class="summary-item">
                                    <span class="label">Largest Catch</span>
                                    <span class="value" id="largestCatch">-</span>
                                </div>
                            </div>
                        </div>

                        <div class="stats-card">
                            <h3>Trip Statistics</h3>
                            <div class="chart-container">
                                <canvas id="tripsChart"></canvas>
                            </div>
                            <div class="stats-summary">
                                <div class="summary-item">
                                    <span class="label">Total Time Fishing</span>
                                    <span class="value" id="totalTime">-</span>
                                </div>
                                <div class="summary-item">
                                    <span class="label">Favorite Location</span>
                                    <span class="value" id="favoriteLocation">-</span>
                                </div>
                            </div>
                        </div>

                        <div class="stats-card">
                            <h3>Achievement Progress</h3>
                            <div class="chart-container">
                                <canvas id="achievementsChart"></canvas>
                            </div>
                            <div class="achievement-progress">
                                <!-- Achievement progress bars will be added by JavaScript -->
                            </div>
                        </div>

                        <div class="stats-card">
                            <h3>Species Distribution</h3>
                            <div class="chart-container">
                                <canvas id="speciesChart"></canvas>
                            </div>
                            <div class="species-list">
                                <!-- Species list will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>

    <!-- Activity Item Template -->
    <template id="activityItemTemplate">
        <div class="activity-item">
            <div class="activity-icon">
                <i class="fas"></i>
            </div>
            <div class="activity-content">
                <div class="activity-header">
                    <h4 class="activity-title"></h4>
                    <span class="activity-date"></span>
                </div>
                <div class="activity-details"></div>
                <div class="activity-photos"></div>
            </div>
        </div>
    </template>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/js/shared.js"></script>
    <script src="/js/achievements.js"></script>
    <script src="/js/activity.js"></script>
</body>
</html>