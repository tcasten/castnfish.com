/* Image Optimization Styles */

/* Responsive Background Images */
.hero {
    background-image: url('/images/hero/hero-bg-mobile.jpg');
}

@media (min-width: 481px) {
    .hero {
        background-image: url('/images/hero/hero-bg-tablet.jpg');
    }
}

@media (min-width: 769px) {
    .hero {
        background-image: url('/images/hero/hero-bg.jpg');
    }
}

/* Image Loading Optimizations */
img {
    /* Prevent layout shift while loading */
    aspect-ratio: attr(width) / attr(height);
    transform: translateZ(0);
    will-change: transform;
}

/* Progressive Image Loading */
.lazy-image {
    filter: blur(10px);
    transition: filter 0.3s ease-out;
}

.lazy-image.loaded {
    filter: blur(0);
}

/* Responsive Image Container */
.img-container {
    position: relative;
    width: 100%;
    height: 0;
    overflow: hidden;
}

/* Common aspect ratios */
.ratio-16-9 {
    padding-bottom: 56.25%;
}

.ratio-4-3 {
    padding-bottom: 75%;
}

.ratio-1-1 {
    padding-bottom: 100%;
}

.img-container img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
}

/* Category Images Optimization */
.category-tile img {
    transform: scale(1);
    transition: transform 0.3s ease-out, filter 0.3s ease-out;
    backface-visibility: hidden;
    -webkit-font-smoothing: subpixel-antialiased;
}

.category-tile:hover img {
    transform: scale(1.1);
}

/* Background Texture Optimization */
.activity-highlight {
    background-image: url('/images/textures/water-texture-mobile.jpg');
    background-size: cover;
    background-repeat: no-repeat;
}

@media (min-width: 481px) {
    .activity-highlight {
        background-image: url('/images/textures/water-texture.jpg');
    }
}

/* Wave Animation Performance */
.wave-divider {
    transform: translate3d(0, 0, 0);
    backface-visibility: hidden;
    perspective: 1000px;
    will-change: transform;
}

/* Image Error Handling */
img.error {
    opacity: 0;
}

/* Fallback for when images fail to load */
.img-container::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: #f8f9fa;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.img-container.error::after {
    opacity: 1;
}

/* Print Optimization */
@media print {
    img {
        max-width: 100% !important;
        page-break-inside: avoid;
    }
    
    .wave-divider {
        display: none;
    }
}